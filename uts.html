
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Analisis Data Medis &#8212; Penambangan Data</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'uts';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Klastering" href="klastering.html" />
    <link rel="prev" title="Pemodelan data" href="Modeling-Data.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/data-mining.jpg" class="logo__image only-light" alt="Penambangan Data - Home"/>
    <script>document.write(`<img src="_static/data-mining.jpg" class="logo__image only-dark" alt="Penambangan Data - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Penambangan Data - Tuhu Pangestu
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Memahami-Data.html">Memahami Data</a></li>





<li class="toctree-l1"><a class="reference internal" href="Modeling-Data.html">Pemodelan data</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">Analisis Data Medis</a></li>



<li class="toctree-l1"><a class="reference internal" href="klastering.html">Klastering</a></li>


<li class="toctree-l1"><a class="reference internal" href="bining_modified.html">Teknik Binning</a></li>
<li class="toctree-l1"><a class="reference internal" href="pra_uas.html">Pra UAS</a></li>



<li class="toctree-l1"><a class="reference internal" href="uas.html">Analisis Data Mining: Klasifikasi Kanker Payudara dengan Dataset WDBC</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Futs.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/uts.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Analisis Data Medis</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Analisis Data Medis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">Data Understanding</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-data">Preprocessing Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#membaca-data">Membaca Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi">Visualisasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mendeteksi-outlier">Mendeteksi Outlier</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mendeteksi-oulier-menggunakan-lof">Mendeteksi oulier menggunakan LOF</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mendeteksi-outlier-menggunakan-k-nn">Mendeteksi outlier menggunakan K-NN</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-modeling">Data Modeling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mengklasifikasi-data-menggunakan-algoritma-klasifikasi-naive-bayes">Mengklasifikasi data menggunakan algoritma klasifikasi Naive Bayes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi">Evaluasi</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="analisis-data-medis">
<h1>Analisis Data Medis<a class="headerlink" href="#analisis-data-medis" title="Link to this heading">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="data-understanding">
<h1>Data Understanding<a class="headerlink" href="#data-understanding" title="Link to this heading">#</a></h1>
<section id="preprocessing-data">
<h2>Preprocessing Data<a class="headerlink" href="#preprocessing-data" title="Link to this heading">#</a></h2>
<p>Data disini didapatkan melalui link berikut<br />
<a class="reference external" href="https://archive.ics.uci.edu/dataset/878/cirrhosis+patient+survival+prediction+dataset-1">https://archive.ics.uci.edu/dataset/878/cirrhosis+patient+survival+prediction+dataset-1</a></p>
<p>Dataset cirrhosis.csv adalah data medis yang berkaitan dengan penyakit hati (liver cirrhosis), khususnya pada pasien yang menjalani perawatan di rumah sakit. Dataset ini sering digunakan untuk prediksi kelangsungan hidup (survival prediction) dan analisis medis.</p>
</section>
<section id="membaca-data">
<h2>Membaca Data<a class="headerlink" href="#membaca-data" title="Link to this heading">#</a></h2>
<p>Langkah pertama adalah membaca dataset dan menampilkan beberapa baris awal untuk memahami struktur data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="c1"># Baca data dari CSV</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;cirrhosis.csv&quot;</span><span class="p">)</span>

<span class="c1"># Tampilkan beberapa baris pertama</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   ID  N_Days Status             Drug    Age Sex Ascites Hepatomegaly Spiders  \
0   1     400      D  D-penicillamine  21464   F       Y            Y       Y   
1   2    4500      C  D-penicillamine  20617   F       N            Y       Y   
2   3    1012      D  D-penicillamine  25594   M       N            N       N   
3   4    1925      D  D-penicillamine  19994   F       N            Y       Y   
4   5    1504     CL          Placebo  13918   F       N            Y       Y   

  Edema  Bilirubin  Cholesterol  Albumin  Copper  Alk_Phos    SGOT  \
0     Y       14.5        261.0     2.60   156.0    1718.0  137.95   
1     N        1.1        302.0     4.14    54.0    7394.8  113.52   
2     S        1.4        176.0     3.48   210.0     516.0   96.10   
3     S        1.8        244.0     2.54    64.0    6121.8   60.63   
4     N        3.4        279.0     3.53   143.0     671.0  113.15   

   Tryglicerides  Platelets  Prothrombin  Stage  
0          172.0      190.0         12.2    4.0  
1           88.0      221.0         10.6    3.0  
2           55.0      151.0         12.0    4.0  
3           92.0      183.0         10.3    4.0  
4           72.0      136.0         10.9    3.0  
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualisasi">
<h2>Visualisasi<a class="headerlink" href="#visualisasi" title="Link to this heading">#</a></h2>
<p>Visualisasi dilakukan untuk memahami distribusi data, missing values, dan korelasi antar fitur.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="c1"># Baca data</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;cirrhosis.csv&quot;</span><span class="p">)</span>

<span class="c1"># Set style seaborn</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>

<span class="c1"># Visualisasi Missing Values</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">(),</span> <span class="n">cbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Visualisasi Missing Values&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Visualisasi distribusi target (jika kolom &#39;Stage&#39; ada)</span>
<span class="k">if</span> <span class="s1">&#39;Stage&#39;</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Stage&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;Set2&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribusi Target (Stage)&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Heatmap Korelasi</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.2f&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Heatmap Korelasi Fitur Numerik&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7299d14c72d71f5fcd7e8a4c0f9ff69781c65212ac25dd0597ca1efd13551997.png" src="_images/7299d14c72d71f5fcd7e8a4c0f9ff69781c65212ac25dd0597ca1efd13551997.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_2501/2164455548.py:21: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  sns.countplot(data=df, x=&#39;Stage&#39;, palette=&quot;Set2&quot;)
</pre></div>
</div>
<img alt="_images/9e629c10f295e4edb1f39de59053a06fe24bde6408030fa12005450660db472f.png" src="_images/9e629c10f295e4edb1f39de59053a06fe24bde6408030fa12005450660db472f.png" />
<img alt="_images/2f133d7ff4abe2f3024de4b46afd5d06249608aec81d64e748bd2bd9b20e8b38.png" src="_images/2f133d7ff4abe2f3024de4b46afd5d06249608aec81d64e748bd2bd9b20e8b38.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Baca dataset</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;cirrhosis.csv&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># Informasi umum dataset</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ðŸ“Œ Info Dataset:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>

<span class="c1"># Statistik deskriptif untuk data numerik</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ðŸ“Š Statistik Deskriptif:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>

<span class="c1"># Frekuensi kemunculan untuk variabel kategorikal</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ðŸ“ˆ Frekuensi Variabel Kategorikal:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ðŸ“Œ Info Dataset:
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 418 entries, 0 to 417
Data columns (total 20 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   ID             418 non-null    int64  
 1   N_Days         418 non-null    int64  
 2   Status         418 non-null    object 
 3   Drug           312 non-null    object 
 4   Age            418 non-null    int64  
 5   Sex            418 non-null    object 
 6   Ascites        312 non-null    object 
 7   Hepatomegaly   312 non-null    object 
 8   Spiders        312 non-null    object 
 9   Edema          418 non-null    object 
 10  Bilirubin      418 non-null    float64
 11  Cholesterol    284 non-null    float64
 12  Albumin        418 non-null    float64
 13  Copper         310 non-null    float64
 14  Alk_Phos       312 non-null    float64
 15  SGOT           312 non-null    float64
 16  Tryglicerides  282 non-null    float64
 17  Platelets      407 non-null    float64
 18  Prothrombin    416 non-null    float64
 19  Stage          412 non-null    float64
dtypes: float64(10), int64(3), object(7)
memory usage: 65.4+ KB
None

ðŸ“Š Statistik Deskriptif:
               ID       N_Days           Age   Bilirubin  Cholesterol  \
count  418.000000   418.000000    418.000000  418.000000   284.000000   
mean   209.500000  1917.782297  18533.351675    3.220813   369.510563   
std    120.810458  1104.672992   3815.845055    4.407506   231.944545   
min      1.000000    41.000000   9598.000000    0.300000   120.000000   
25%    105.250000  1092.750000  15644.500000    0.800000   249.500000   
50%    209.500000  1730.000000  18628.000000    1.400000   309.500000   
75%    313.750000  2613.500000  21272.500000    3.400000   400.000000   
max    418.000000  4795.000000  28650.000000   28.000000  1775.000000   

          Albumin      Copper      Alk_Phos        SGOT  Tryglicerides  \
count  418.000000  310.000000    312.000000  312.000000     282.000000   
mean     3.497440   97.648387   1982.655769  122.556346     124.702128   
std      0.424972   85.613920   2140.388824   56.699525      65.148639   
min      1.960000    4.000000    289.000000   26.350000      33.000000   
25%      3.242500   41.250000    871.500000   80.600000      84.250000   
50%      3.530000   73.000000   1259.000000  114.700000     108.000000   
75%      3.770000  123.000000   1980.000000  151.900000     151.000000   
max      4.640000  588.000000  13862.400000  457.250000     598.000000   

        Platelets  Prothrombin       Stage  
count  407.000000   416.000000  412.000000  
mean   257.024570    10.731731    3.024272  
std     98.325585     1.022000    0.882042  
min     62.000000     9.000000    1.000000  
25%    188.500000    10.000000    2.000000  
50%    251.000000    10.600000    3.000000  
75%    318.000000    11.100000    4.000000  
max    721.000000    18.000000    4.000000  

ðŸ“ˆ Frekuensi Variabel Kategorikal:

Status:
 Status
C     232
D     161
CL     25
Name: count, dtype: int64

Drug:
 Drug
D-penicillamine    158
Placebo            154
Name: count, dtype: int64

Sex:
 Sex
F    374
M     44
Name: count, dtype: int64

Ascites:
 Ascites
N    288
Y     24
Name: count, dtype: int64

Hepatomegaly:
 Hepatomegaly
Y    160
N    152
Name: count, dtype: int64

Spiders:
 Spiders
N    222
Y     90
Name: count, dtype: int64

Edema:
 Edema
N    354
S     44
Y     20
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="mendeteksi-outlier">
<h2>Mendeteksi Outlier<a class="headerlink" href="#mendeteksi-outlier" title="Link to this heading">#</a></h2>
<p>Disini saya mendeteksi outlier menggunakan 2 metode yaitu local Outlier Factor (LOF) dan K-Nearest Neighbors(K-NN)</p>
<section id="mendeteksi-oulier-menggunakan-lof">
<h3>Mendeteksi oulier menggunakan LOF<a class="headerlink" href="#mendeteksi-oulier-menggunakan-lof" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">LocalOutlierFactor</span>

<span class="c1"># 1. Load dataset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;cirrhosis.csv&#39;</span><span class="p">)</span>

<span class="c1"># 2. Pilih kolom sesuai header yang diberikan</span>
<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="s2">&quot;N_Days&quot;</span><span class="p">,</span> <span class="s2">&quot;Status&quot;</span><span class="p">,</span> <span class="s2">&quot;Drug&quot;</span><span class="p">,</span> <span class="s2">&quot;Age&quot;</span><span class="p">,</span> <span class="s2">&quot;Sex&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Ascites&quot;</span><span class="p">,</span> <span class="s2">&quot;Hepatomegaly&quot;</span><span class="p">,</span> <span class="s2">&quot;Spiders&quot;</span><span class="p">,</span> <span class="s2">&quot;Edema&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Bilirubin&quot;</span><span class="p">,</span> <span class="s2">&quot;Cholesterol&quot;</span><span class="p">,</span> <span class="s2">&quot;Albumin&quot;</span><span class="p">,</span> <span class="s2">&quot;Copper&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Alk_Phos&quot;</span><span class="p">,</span> <span class="s2">&quot;SGOT&quot;</span><span class="p">,</span> <span class="s2">&quot;Tryglicerides&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Platelets&quot;</span><span class="p">,</span> <span class="s2">&quot;Prothrombin&quot;</span><span class="p">,</span> <span class="s2">&quot;Stage&quot;</span>
<span class="p">]</span>
<span class="n">df_subset</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span>

<span class="c1"># 3. Dari subset, pilih kolom numerik untuk LOF</span>
<span class="n">numeric_cols</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;N_Days&quot;</span><span class="p">,</span> <span class="s2">&quot;Age&quot;</span><span class="p">,</span> <span class="s2">&quot;Bilirubin&quot;</span><span class="p">,</span> <span class="s2">&quot;Cholesterol&quot;</span><span class="p">,</span> <span class="s2">&quot;Albumin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Copper&quot;</span><span class="p">,</span> <span class="s2">&quot;Alk_Phos&quot;</span><span class="p">,</span> <span class="s2">&quot;SGOT&quot;</span><span class="p">,</span> <span class="s2">&quot;Tryglicerides&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Platelets&quot;</span><span class="p">,</span> <span class="s2">&quot;Prothrombin&quot;</span><span class="p">,</span> <span class="s2">&quot;Stage&quot;</span>
<span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_subset</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span>

<span class="c1"># 4. Imputasi nilai NaN dengan rata-rata kolom</span>
<span class="n">X_imputed</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="c1"># 5. Inisiasi dan fit model LOF</span>
<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">X_imputed</span><span class="p">)</span>
<span class="n">scores</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">negative_outlier_factor_</span>

<span class="c1"># 6. Tambahkan hasil ke DataFrame subset</span>
<span class="n">df_subset</span><span class="p">[</span><span class="s1">&#39;LOF_score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scores</span>
<span class="n">df_subset</span><span class="p">[</span><span class="s1">&#39;is_outlier&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_pred</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># 7. Filter hanya baris outlier dan urutkan berdasarkan skor</span>
<span class="n">outliers</span> <span class="o">=</span> <span class="n">df_subset</span><span class="p">[</span><span class="n">df_subset</span><span class="p">[</span><span class="s1">&#39;is_outlier&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;LOF_score&#39;</span><span class="p">)</span>

<span class="c1"># 8. Tampilkan hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Detected outliers:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outliers</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Detected outliers:
      ID  N_Days Status             Drug    Age Sex Ascites Hepatomegaly  \
29    30     321      D          Placebo  15116   F       N            Y   
52    53    1000      D  D-penicillamine  24621   F       N            Y   
28    29    4509      C          Placebo  23331   F       N            N   
36    37     223      D  D-penicillamine  22546   F       Y            Y   
55    56    1847      D          Placebo  12279   F       N            Y   
23    24    4079      D  D-penicillamine  16261   M       N            Y   
205  206    2255      C  D-penicillamine  22642   F       N            N   
53    54    1434      D  D-penicillamine  14317   F       Y            Y   
42    43    4556      C  D-penicillamine  17850   F       N            N   
304  305    1216      C          Placebo  15730   F       N            Y   
57    58    4459      C  D-penicillamine  16279   M       N            N   
58    59    2224      D  D-penicillamine  14754   F       N            Y   
22    23     264      D          Placebo  20442   F       Y            Y   
41    42    4453      C          Placebo  12307   F       N            Y   
54    55    1360      D  D-penicillamine  24020   M       N            N   
50    51    3853      D          Placebo  19025   F       N            N   
14    15    3584      D  D-penicillamine  23612   F       N            N   
62    63     859      D          Placebo  17031   F       N            N   
252  253    1765      C  D-penicillamine  28650   M       Y            Y   
269  270    1568      C  D-penicillamine   9598   F       N            Y   
7      8    2466      D          Placebo  19379   F       N            N   

    Spiders Edema  ...  Albumin  Copper  Alk_Phos    SGOT  Tryglicerides  \
29        Y     N  ...     2.54   172.0    7277.0  121.26          158.0   
52        N     N  ...     3.10    94.0    6456.2   56.76            NaN   
28        N     N  ...     3.78    24.0    5833.0   73.53           86.0   
36        N     Y  ...     3.01   150.0    6931.2  180.60          118.0   
55        Y     N  ...     3.80    88.0   13862.4   95.46          319.0   
23        N     N  ...     4.00   124.0    5719.0  221.88          230.0   
205       N     N  ...     4.07    12.0    5300.0   57.35           68.0   
53        Y     Y  ...     3.40   262.0    5487.2   73.53          125.0   
42        N     N  ...     3.64    36.0    5430.2   67.08           89.0   
304       Y     N  ...     3.61    73.0    5184.0  288.00          144.0   
57        N     N  ...     4.08    73.0    5890.0   56.76          118.0   
58        Y     N  ...     3.50    49.0    7622.8  126.42          124.0   
22        Y     Y  ...     2.94   558.0    6064.8  227.04          191.0   
41        Y     N  ...     3.54   122.0    8778.0   56.76            NaN   
54        N     N  ...     3.94   121.0   10165.0   79.98          219.0   
50        N     N  ...     3.60    54.0    4332.0   99.33          143.0   
14        N     N  ...     3.87   173.0    9009.8  127.71           96.0   
62        Y     Y  ...     3.12    95.0    5396.0  244.90          133.0   
252       Y     N  ...     3.03   380.0     983.0  158.10          154.0   
269       Y     N  ...     3.74   102.0    1128.0   71.00          117.0   
7         N     N  ...     4.00    52.0    4651.2   28.38          189.0   

     Platelets  Prothrombin  Stage  LOF_score  is_outlier  
29       124.0         11.0    4.0  -2.424073        True  
52       214.0         11.0    4.0  -2.416449        True  
28       390.0         10.6    2.0  -2.212285        True  
36       102.0         12.0    4.0  -2.106150        True  
55       365.0         10.6    2.0  -2.082893        True  
23        70.0          9.9    2.0  -2.077313        True  
205      240.0         11.0    1.0  -2.062836        True  
53       254.0         11.0    4.0  -2.059062        True  
42       203.0         10.6    2.0  -2.008953        True  
304      275.0         10.6    3.0  -2.008460        True  
57         NaN         10.6    1.0  -2.004024        True  
58       321.0         10.6    3.0  -1.981456        True  
22       214.0         11.7    4.0  -1.970027        True  
41       344.0         11.0    4.0  -1.891141        True  
54       213.0         11.0    3.0  -1.874416        True  
50       273.0         10.6    2.0  -1.838340        True  
14       295.0         11.0    3.0  -1.836767        True  
62       165.0         11.6    3.0  -1.831811        True  
252       97.0         11.2    4.0  -1.770562        True  
269      228.0         10.2    3.0  -1.760766        True  
7        373.0         11.0    3.0  -1.747276        True  

[21 rows x 22 columns]
</pre></div>
</div>
</div>
</div>
</section>
<section id="mendeteksi-outlier-menggunakan-k-nn">
<h3>Mendeteksi outlier menggunakan K-NN<a class="headerlink" href="#mendeteksi-outlier-menggunakan-k-nn" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">NearestNeighbors</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span>

<span class="c1"># 1. Load data</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;cirrhosis.csv&#39;</span><span class="p">)</span>

<span class="c1"># 2. Pilih fitur numerik</span>
<span class="n">numeric_cols</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;N_Days&quot;</span><span class="p">,</span> <span class="s2">&quot;Age&quot;</span><span class="p">,</span> <span class="s2">&quot;Bilirubin&quot;</span><span class="p">,</span> <span class="s2">&quot;Cholesterol&quot;</span><span class="p">,</span> <span class="s2">&quot;Albumin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Copper&quot;</span><span class="p">,</span> <span class="s2">&quot;Alk_Phos&quot;</span><span class="p">,</span> <span class="s2">&quot;SGOT&quot;</span><span class="p">,</span> <span class="s2">&quot;Tryglicerides&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Platelets&quot;</span><span class="p">,</span> <span class="s2">&quot;Prothrombin&quot;</span><span class="p">,</span> <span class="s2">&quot;Stage&quot;</span>
<span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># 3. Imputasi nilai NaN</span>
<span class="n">X</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># 4. Standarisasi</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># 5. Hitung rata-rata jarak ke k tetangga terdekat</span>
<span class="n">k</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">nbrs</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
<span class="n">nbrs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_scaled</span><span class="p">)</span>
<span class="n">distances</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">nbrs</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">(</span><span class="n">X_scaled</span><span class="p">)</span>

<span class="c1"># 6. Skor outlier: rata-rata jarak ke tetangga terdekat</span>
<span class="n">outlier_scores</span> <span class="o">=</span> <span class="n">distances</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;KNN_score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">outlier_scores</span>

<span class="c1"># 7. Tentukan threshold (misal 5% tertinggi dianggap outlier)</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">outlier_scores</span><span class="p">,</span> <span class="mi">95</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_outlier&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;KNN_score&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">threshold</span>

<span class="c1"># 8. Tampilkan outlier</span>
<span class="n">outliers</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_outlier&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;KNN_score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outliers</span><span class="p">[[</span><span class="s1">&#39;KNN_score&#39;</span><span class="p">,</span> <span class="s1">&#39;is_outlier&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">numeric_cols</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     KNN_score  is_outlier  N_Days    Age  Bilirubin  Cholesterol  Albumin  \
74    7.634211        True    1191  15895       17.1        674.0     2.53   
190   7.326208        True     216  19246       24.5       1092.0     3.35   
165   7.009484        True    2721  15105        5.7       1480.0     3.26   
324   6.342478        True    4795  12419        1.8          NaN     3.24   
17    5.902285        True     131  19698       11.4        178.0     2.80   
55    5.783596        True    1847  12279        1.1        498.0     3.80   
129   5.767484        True    1413  16154       17.4       1775.0     3.43   
22    5.718094        True     264  20442       17.4        395.0     2.94   
106   5.716930        True    3388  22836        0.6        212.0     4.03   
280   5.391823        True      41  24064       17.9        175.0     2.10   
246   5.266407        True     732  15056        6.1       1712.0     2.83   
85    5.109141        True    1657  19270        5.0       1600.0     3.21   
45    4.813601        True    2256  16728        5.7        482.0     2.84   
234   4.622684        True    1882  12120       13.0       1336.0     4.16   
62    4.526339        True     859  17031       22.5        932.0     3.12   
80    4.356411        True    2540  23107       14.4        448.0     3.65   
147   4.335995        True    1427  11273        7.2       1015.0     3.26   
47    4.320672        True    4427  17947        1.9        259.0     3.70   
155   4.288392        True     853  21699       25.5        358.0     3.52   
143   4.259522        True     943  19098       28.0        556.0     3.26   
54    4.251463        True    1360  24020        1.8        416.0     3.94   

     Copper  Alk_Phos    SGOT  Tryglicerides  Platelets  Prothrombin  Stage  
74    207.0    2078.0  182.90          598.0      268.0         11.5    4.0  
190   233.0    3740.0  147.25          432.0      399.0         15.2    4.0  
165    84.0    1960.0  457.25          108.0      213.0          9.5    2.0  
324     NaN       NaN     NaN            NaN        NaN         18.0    2.0  
17    588.0     961.0  280.55          200.0      283.0         12.4    4.0  
55     88.0   13862.4   95.46          319.0      365.0         10.6    2.0  
129   205.0    2065.0  165.85           97.0      418.0         11.5    3.0  
22    558.0    6064.8  227.04          191.0      214.0         11.7    4.0  
106    10.0     648.0   71.30           77.0      316.0         17.1    1.0  
280   220.0     705.0  338.00          229.0       62.0         12.9    4.0  
246    89.0    3681.0  158.10          139.0      297.0         10.0    3.0  
85     75.0    2656.0   82.15          174.0      181.0         10.9    3.0  
45    161.0   11552.0  136.74          165.0      518.0         12.7    3.0  
234    71.0    3510.0  209.25          111.0      338.0         11.9    3.0  
62     95.0    5396.0  244.90          133.0      165.0         11.6    3.0  
80     34.0    1218.0   60.45          318.0      385.0         11.7    4.0  
147   247.0    3836.0  198.40          280.0      330.0          9.8    3.0  
47    281.0   10396.8  188.34          178.0      214.0         11.0    3.0  
155   219.0    2468.0  201.50          205.0      151.0         11.5    2.0  
143   152.0    3896.0  198.40          171.0      335.0         10.0    3.0  
54    121.0   10165.0   79.98          219.0      213.0         11.0    3.0  
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="data-modeling">
<h1>Data Modeling<a class="headerlink" href="#data-modeling" title="Link to this heading">#</a></h1>
<section id="mengklasifikasi-data-menggunakan-algoritma-klasifikasi-naive-bayes">
<h2>Mengklasifikasi data menggunakan algoritma klasifikasi Naive Bayes<a class="headerlink" href="#mengklasifikasi-data-menggunakan-algoritma-klasifikasi-naive-bayes" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.naive_bayes</span><span class="w"> </span><span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;cirrhosis.csv&#39;</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Status_binary&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Status_binary&#39;</span><span class="p">])</span>


<span class="n">numeric_cols</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;N_Days&quot;</span><span class="p">,</span> <span class="s2">&quot;Age&quot;</span><span class="p">,</span> <span class="s2">&quot;Bilirubin&quot;</span><span class="p">,</span> <span class="s2">&quot;Cholesterol&quot;</span><span class="p">,</span> <span class="s2">&quot;Albumin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Copper&quot;</span><span class="p">,</span> <span class="s2">&quot;Alk_Phos&quot;</span><span class="p">,</span> <span class="s2">&quot;SGOT&quot;</span><span class="p">,</span> <span class="s2">&quot;Tryglicerides&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Platelets&quot;</span><span class="p">,</span> <span class="s2">&quot;Prothrombin&quot;</span><span class="p">,</span> <span class="s2">&quot;Stage&quot;</span>
<span class="p">]</span>
<span class="n">categorical_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Drug&quot;</span><span class="p">,</span> <span class="s2">&quot;Sex&quot;</span><span class="p">,</span> <span class="s2">&quot;Ascites&quot;</span><span class="p">,</span> <span class="s2">&quot;Hepatomegaly&quot;</span><span class="p">,</span> <span class="s2">&quot;Spiders&quot;</span><span class="p">,</span> <span class="s2">&quot;Edema&quot;</span><span class="p">]</span>


<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">numeric_cols</span> <span class="o">+</span> <span class="n">categorical_cols</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">X</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">categorical_cols</span><span class="p">:</span>
    <span class="n">X</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">mode</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>


<span class="n">X_encoded</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">drop_first</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Status_binary&#39;</span><span class="p">]</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_encoded</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span>
<span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="n">report</span> <span class="o">=</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Censored&#39;</span><span class="p">,</span><span class="s1">&#39;Died&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Confusion Matrix:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="n">cm</span><span class="p">,</span>
    <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Actual_Censored&#39;</span><span class="p">,</span><span class="s1">&#39;Actual_Died&#39;</span><span class="p">],</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Pred_Censored&#39;</span><span class="p">,</span><span class="s1">&#39;Pred_Died&#39;</span><span class="p">]</span>
<span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Classification Report:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Confusion Matrix:
                 Pred_Censored  Pred_Died
Actual_Censored             59          6
Actual_Died                 18         35

Classification Report:
              precision    recall  f1-score   support

    Censored       0.77      0.91      0.83        65
        Died       0.85      0.66      0.74        53

    accuracy                           0.80       118
   macro avg       0.81      0.78      0.79       118
weighted avg       0.81      0.80      0.79       118
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="evaluasi">
<h1>Evaluasi<a class="headerlink" href="#evaluasi" title="Link to this heading">#</a></h1>
<p>Model Gaussian Naive Bayes yang digunakan untuk memprediksi status pasien sirosis menunjukkan performa yang cukup baik dengan tingkat akurasi sebesar 80%. Hasil confusion matrix memperlihatkan bahwa model mampu mengenali pasien yang bertahan hidup (kelas â€œCensoredâ€) dengan sangat baik, di mana 59 dari 65 pasien diklasifikasikan dengan benar, menghasilkan recall yang tinggi sebesar 0.91. Ini berarti model jarang melewatkan pasien yang seharusnya dikategorikan sebagai â€œhidupâ€. Namun, precision untuk kelas ini berada di angka 0.77, menunjukkan bahwa ada beberapa pasien yang diprediksi â€œhidupâ€, padahal sebenarnya meninggal.</p>
<p>Sebaliknya, untuk kelas â€œDiedâ€ (pasien yang meninggal), model memiliki precision tinggi sebesar 0.85, yang berarti sebagian besar prediksi â€œmeninggalâ€ memang benar. Namun, recall-nya hanya 0.66, menandakan bahwa model masih sering gagal mengenali pasien yang sebenarnya meninggal (terdapat 18 false negatives). Hal ini dapat menjadi perhatian serius dalam konteks medis, karena pasien yang berisiko tinggi bisa saja tidak terdeteksi.</p>
<p>Secara keseluruhan, performa model cukup seimbang dengan macro average F1-score sebesar 0.79, tetapi masih terdapat bias ke kelas â€œhidupâ€ yang bisa berbahaya dalam pengambilan keputusan klinis. Untuk meningkatkan performa, khususnya dalam mendeteksi pasien meninggal, beberapa pendekatan dapat dilakukan seperti mencoba model lain yang lebih kompleks (seperti Random Forest atau XGBoost), menyeimbangkan data menggunakan SMOTE atau class_weight=â€™balancedâ€™, serta menyesuaikan threshold klasifikasi agar recall pada kelas â€œDiedâ€ meningkat. Selain itu, visualisasi tambahan seperti ROC-AUC atau precision-recall curve dapat memberikan gambaran yang lebih jelas mengenai trade-off antara precision dan recall dalam model ini.</p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Modeling-Data.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Pemodelan data</p>
      </div>
    </a>
    <a class="right-next"
       href="klastering.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Klastering</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Analisis Data Medis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">Data Understanding</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-data">Preprocessing Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#membaca-data">Membaca Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi">Visualisasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mendeteksi-outlier">Mendeteksi Outlier</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mendeteksi-oulier-menggunakan-lof">Mendeteksi oulier menggunakan LOF</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mendeteksi-outlier-menggunakan-k-nn">Mendeteksi outlier menggunakan K-NN</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-modeling">Data Modeling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mengklasifikasi-data-menggunakan-algoritma-klasifikasi-naive-bayes">Mengklasifikasi data menggunakan algoritma klasifikasi Naive Bayes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi">Evaluasi</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Tuhu Pangestu
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright @2025 || Tuhu Pangestu.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>